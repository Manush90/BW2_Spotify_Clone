<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Media Player</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet" />
    <style>
      /* CSS per il player */
      .player-bar {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        background-color: #181818; /* Colore di sfondo di Spotify */
        padding: 10px;
        z-index: 1000;
      }

      .player-bar .btn-link {
        color: white;
      }

      .player-bar .btn-link:focus,
      .player-bar .btn-link:hover {
        color: #1db954; /* Colore principale di Spotify */
      }

      .player-bar .btn-link:focus i,
      .player-bar .btn-link:hover i {
        transform: scale(1.2); /* Effetto di ingrandimento al passaggio del mouse */
      }

      .player-bar img {
        width: 50px;
        height: 50px;
        margin-right: 15px;
      }

      .player-bar h6 {
        margin-bottom: 0;
        color: white;
      }

      .player-bar p {
        margin-bottom: 0;
        color: #b3b3b3; /* Colore del testo di Spotify */
      }

      .player-bar .progress {
        height: 5px;
        margin-top: 8px;
      }

      .player-bar .progress-bar {
        background-color: #1db954; /* Colore della barra di riproduzione di Spotify */
      }
    </style>
  </head>
  <body>
    <div class="player-bar">
      <div class="container-fluid">
        <div class="row align-items-center">
          <div class="col-4 d-flex align-items-center">
            <img src="" alt="cover" id="coverImage" />
            <div class="d-flex flex-column">
              <h6 id="songTitle">Titolo della canzone</h6>
              <p class="fs-8 text-secondary-emphasis" id="artistName">Artista</p>
            </div>
          </div>
          <div class="col-4 d-flex flex-column align-items-center">
            <div class="btn-group" role="group">
              <button class="btn btn-link btn-lg me-4" id="prevButton"><i class="bi bi-skip-backward-fill"></i></button>
              <button class="btn btn-link btn-lg me-4" id="playButton"><i class="bi bi-play-circle-fill"></i></button>
              <button class="btn btn-link btn-lg me-4" id="pauseButton"><i class="bi bi-pause-circle-fill"></i></button>
              <button class="btn btn-link btn-lg me-4" id="nextButton"><i class="bi bi-skip-forward-fill"></i></button>
            </div>
            <div class="w-100 px-2">
              <div
                class="progress"
                role="progressbar"
                aria-label="Progresso della canzone"
                aria-valuenow="25"
                aria-valuemin="0"
                aria-valuemax="100"
              >
                <div class="progress-bar" id="progressBar"></div>
              </div>
            </div>
          </div>
          <div class="col-4 d-flex justify-content-end align-items-center">
            <!-- Aggiungi qui i pulsanti per il volume, il controllo del volume, ecc. -->
          </div>
        </div>
      </div>
    </div>

    <script>
      const url = "https://deezerdevs-deezer.p.rapidapi.com/track/2194033397";
      const options = {
        method: "GET",
        headers: {
          "X-RapidAPI-Key": "8223206026mshc9f22398ae98821p146eb6jsna3d58f053010",
          "X-RapidAPI-Host": "deezerdevs-deezer.p.rapidapi.com",
        },
      };

      async function fetchData() {
        try {
          const response = await fetch(url, options);
          const trackData = await response.json();

          // Popola i dati del media player con i risultati ottenuti dall'API
          document.getElementById("coverImage").src = trackData.album.cover;
          document.getElementById("songTitle").textContent = trackData.title;
          document.getElementById("artistName").textContent = trackData.artist.name;

          // Aggiorna l'URL del file audio nel player
          document.getElementById("audioPlayer").src = trackData.preview;

          // Puoi anche popolare altre informazioni come la durata della canzone, l'URL di anteprima, ecc.
        } catch (error) {
          console.error(error);
        }
      }

      // Chiama la funzione per caricare i dati del brano quando la pagina Ã¨ pronta
      window.onload = fetchData;

      const audioPlayer = document.getElementById("audioPlayer");
      const playButton = document.getElementById("playButton");
      const pauseButton = document.getElementById("pauseButton");
      const prevButton = document.getElementById("prevButton");
      const nextButton = document.getElementById("nextButton");

      // Gestisci il click sul pulsante di riproduzione
      playButton.addEventListener("click", () => {
        audioPlayer.play();
      });

      // Gestisci il click sul pulsante di pausa
      pauseButton.addEventListener("click", () => {
        audioPlayer.pause();
      });

      // Gestisci il click sul pulsante precedente
      prevButton.addEventListener("click", () => {
        // Codice per passare alla traccia precedente
      });

      // Gestisci il click sul pulsante successivo
      nextButton.addEventListener("click", () => {
        // Codice per passare alla traccia successiva
      });
    </script>
  </body>
</html>
